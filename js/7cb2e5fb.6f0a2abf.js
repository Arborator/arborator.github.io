(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7cb2e5fb"],{"5d96":function(t,e,o){"use strict";var n=o("c360"),r=o.n(n);r.a},6538:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{class:t.$q.dark.isActive?"bg-dark":"bg-grey-1"},[o("div",{staticClass:"q-pa-md row items-start q-gutter-md flex flex-center"},[o("q-card",{attrs:{flat:""}},[o("q-card-section",{staticClass:"q-pa-md row items-start q-gutter-md"},[o("q-toolbar",{staticClass:"text-center"},[o("q-btn",{attrs:{color:"primary",round:"",dense:"",icon:"add"},on:{click:function(e){t.creaProjectDial=!0}}},[o("q-tooltip",{attrs:{delay:300,"content-class":"text-white bg-primary"}},[t._v("Create a new project")])],1),o("q-toolbar-title",{class:(t.$q.dark.isActive?"":"text-primary")+" text-bold"},[t._v("\n              Projects\n            ")]),o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.listMode?"view_module":"list"},on:{click:function(e){return t.toggleProjectView()}}},[o("q-tooltip",{attrs:{delay:300,"content-class":"text-white bg-primary"}},[t._v("Change view")])],1)],1),o("q-toolbar",{staticClass:"text-center"},[o("q-toolbar-title",[o("q-input",{attrs:{filled:"","bottom-slots":"",label:"Search Project",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProject(t.search)}},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),t.listMode?t._e():o("q-card-section",{staticStyle:{width:"90vw",height:"60vh"}},[t.$q.platform.is.mobile?o("q-virtual-scroll",{staticStyle:{"max-height":"60vh",width:"80vw"},attrs:{items:t.visibleProjects,"virtual-scroll-slice-size":5,"virtual-scroll-item-size":200},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;e.index;return[o("project-card",{key:n.id,staticStyle:{"max-width":"80vw"},attrs:{props:n,parentDeleteProject:t.deleteProject,parentProjectSettings:t.showProjectSettings}})]}}],null,!1,1634482418)}):t._e(),t.$q.platform.is.mobile?t._e():o("div",{staticClass:"q-pa-md row items-start q-gutter-md"},t._l(t.visibleProjects,(function(e){return o("project-card",{key:e.id,staticStyle:{"max-width":"250px"},attrs:{props:e,parentDeleteProject:t.deleteProject,parentProjectSettings:t.showProjectSettings}})})),1)],1),t.listMode?o("q-card-section",{staticStyle:{width:"90vw",height:"60vh"}},[o("q-list",{staticStyle:{width:"100%"},attrs:{bordered:""}},[o("q-virtual-scroll",{staticStyle:{"max-height":"60vh",width:"100%"},attrs:{items:t.visibleProjects,"virtual-scroll-slice-size":5,"virtual-scroll-item-size":200},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;e.index;return[o("project-item",{key:n.id,attrs:{props:n,parentDeleteProject:t.deleteProject,parentProjectSettings:t.showProjectSettings}})]}}],null,!1,2774481216)})],1)],1):t._e()],1)],1),o("q-dialog",{attrs:{"transition-show":"fade","transition-hide":"fade"},model:{value:t.creaProjectDial,callback:function(e){t.creaProjectDial=e},expression:"creaProjectDial"}},[o("crea-project-card",{attrs:{parentGetProjects:t.getProjects}})],1),o("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.projectSettingsDial,callback:function(e){t.projectSettingsDial=e},expression:"projectSettingsDial"}},[o("project-settings-view",{staticStyle:{width:"90vw"},attrs:{projectname:t.projectnameTarget}})],1)],1)},r=[],i=(o("6762"),o("2fdb"),o("b06b")),a=o("d867"),s=(o("4360"),o("8f44")),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-item",{attrs:{clickable:""},on:{click:function(e){return t.goTo()}}},[o("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down","context-menu":""}},[o("q-list",[o("q-item",{attrs:{clickable:""},on:{click:function(e){return t.projectSettings()}}},[o("q-item-section",[t._v("Settings")]),o("q-item-section",{attrs:{side:""}},[o("q-icon",{attrs:{name:"settings"}})],1)],1),o("q-item",{attrs:{clickable:""},on:{click:function(e){return t.deleteProject()}}},[o("q-item-section",[t._v("Delete Project")]),o("q-item-section",{attrs:{side:""}},[o("q-icon",{attrs:{name:"delete_forever",color:"negative"}})],1)],1)],1)],1),o("q-item-section",{attrs:{avatar:""}},[o("q-avatar",{directives:[{name:"show",rawName:"v-show",value:t.imageEmpty,expression:"imageEmpty"}],attrs:{rounded:"",color:"primary","text-color":"white",icon:"work"}}),o("q-avatar",{directives:[{name:"show",rawName:"v-show",value:!t.imageEmpty,expression:"!imageEmpty"}],attrs:{rounded:"",color:"primary","text-color":"white"}},[o("img",{attrs:{src:t.imageCleaned}})])],1),o("q-item-section",[o("q-item-label",{attrs:{lines:"1"}},[o("span",{staticClass:"text-weight-bold"},[t._v(t._s(t.project.projectname))])]),o("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n            "+t._s(t.project.description)+"\n        ")])],1),o("q-item-section",{attrs:{side:""}},[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.project.is_private,expression:"project.is_private"}],attrs:{name:"lock",color:"negative"}}),o("q-icon",{directives:[{name:"show",rawName:"v-show",value:!t.project.is_private,expression:"!project.is_private"}],attrs:{name:"public",color:"positive"}})],1)],1)},l=[],p=(o("a481"),{props:["props","parentDeleteProject","parentProjectSettings"],data:function(){return{project:this.props}},computed:{imageEmpty:function(){return null==this.project.image&&(this.project.image="b''"),"b''"==this.project.image||this.project.image.length<1},imageCleaned:function(){var t=this.project.image.replace("b","");return t=t.replace(/^'/g,""),t=t.replace(/'$/g,""),"data:image/png;base64, "+t}},methods:{goTo:function(){this.$router.push({name:"project",params:{projectname:this.project.projectname,infos:this.project}})},projectSettings:function(){this.$props.parentProjectSettings(this.project.projectname)},deleteProject:function(){this.$props.parentDeleteProject(this.project.projectname)}}}),d=p,m=o("2877"),u=Object(m["a"])(d,c,l,!1,null,"495eca89",null),f=u.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{class:t.$q.dark.isActive?"bg-dark":"bg-grey-1"},[o("q-bar",[o("q-space"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[o("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),o("q-card-section",[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[o("q-input",{attrs:{filled:"",label:"Project name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}}),o("q-input",{attrs:{filled:"",label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),o("q-toggle",{attrs:{label:"Private?"},model:{value:t.isPrivate,callback:function(e){t.isPrivate=e},expression:"isPrivate"}}),o("div",[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mt-md",attrs:{type:"submit",loading:t.submitting,label:"create",color:"primary"}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)},g=[],v=(o("ac4d"),o("8a81"),o("ac6a"),{props:["parentGetProjects"],data:function(){return{submitting:!1,projectName:"",description:"",isPrivate:!1,attachment:{name:null,file:null}}},methods:{onSubmitInit:function(){var t=this;this.submitting=!0;var e=new FormData;this.submitting=!0;var o=!0,n=!1,r=void 0;try{for(var i,s=this.attachment.file[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var c=i.value;e.append("files",c)}}catch(l){n=!0,r=l}finally{try{o||null==s.return||s.return()}finally{if(n)throw r}}e.append("import_user",this.$store.getters.getUserInfos.username),a["a"].createInitializedProject(this.projectName,e).then((function(e){t.attachment.file=[],t.$props.parentGetProjects(),t.submitting=!1,t.$q.notify({message:"".concat(t.projectName," uploaded and created."),color:"positive"})})).catch((function(e){console.log(e),t.$q.notify({message:"".concat(e),color:"negative",position:"bottom"}),t.submitting=!1}))},onSubmit:function(){var t=this;this.submitting=!0;var e=new FormData;this.submitting=!0,e.append("import_user",this.$store.getters.getUserInfos.username),e.append("project_name",this.projectName),e.append("description",this.description),e.append("private",this.isPrivate),a["a"].createProject(e).then((function(e){t.attachment.file=[],t.$props.parentGetProjects(),t.submitting=!1,t.$q.notify({message:"".concat(t.projectName," uploaded and created.")})})).catch((function(e){console.log(e),t.$q.notify({message:"".concat(e),color:"negative",position:"bottom"}),t.submitting=!1}))},onReset:function(){},onFileChange:function(t){this.attachment.file=t.target.files}}}),b=v,j=Object(m["a"])(b,h,g,!1,null,null,null),w=j.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{class:t.$q.dark.isActive?"":"bg-blue-grey-1 text-black",staticStyle:{width:"100vw"}},[o("q-bar",{staticClass:"bg-primary text-white"},[o("q-space"),o("div",{staticClass:"text-weight-bold"},[t._v("Settings")]),o("q-space"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[o("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),o("q-card-section",[o("q-banner",{attrs:{rounded:""},scopedSlots:t._u([{key:"action",fn:function(){return[o("q-btn",{attrs:{flat:"",label:"Change Image"}}),o("q-btn",{attrs:{flat:"",label:"Change Name"}})]},proxy:!0}])},[o("q-img",{attrs:{ratio:16/9,src:t.imageEmpty?"../statics/project.jpg":t.imageCleaned,basic:""}},[o("div",{staticClass:"absolute-bottom text-h6"},[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.infos.is_private,expression:"infos.is_private"}],attrs:{name:"lock",color:"negative",size:"lg"}}),o("q-icon",{directives:[{name:"show",rawName:"v-show",value:!t.infos.is_private,expression:"!infos.is_private"}],attrs:{name:"public",color:"positive",size:"lg"}}),t._v("\n\t\t\t\t\t\t"+t._s(t.infos.name)+"\n\t\t\t\t\t")],1)])],1)],1),o("q-card-section",{staticClass:"q-pa-md row items-start q-gutter-md"},[o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Admins")])]),o("q-card-section",[o("q-list",{attrs:{bordered:"",separator:""}},t._l(t.infos.admins,(function(e){return o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,attrs:{clickable:""}},[o("q-item-section",[t._v(t._s(e))])],1)})),1)],1)],1),o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Guests")])]),o("q-card-section",[o("q-list",{attrs:{bordered:"",separator:""}},t._l(t.infos.guests,(function(e){return o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,attrs:{clickable:""}},[o("q-item-section",[t._v(t._s(e))])],1)})),1)],1)],1)],1),o("q-card-section",[o("codemirror",{attrs:{options:t.cmOption},model:{value:t.config,callback:function(e){t.config=e},expression:"config"}})],1)],1)},y=[],x=o("8f94"),k=(o("db91"),o("a7be"),o("ebe1"),{components:{codemirror:x["codemirror"]},props:["projectname"],data:function(){return{infos:{},config:'[configuration]\nurl\t\t\t=\thttp://arborator.ilpga.fr/   # don\'t forget the trailing slash!\nfunctionsfilename \t\t=\tfunctions.config\ncategoriesfilename \t\t=\tcategories.config\ndefaultfunction\t\t=\tdep\ndefaultcategory \t\t=\tNOM\ndefaultNumberSentences\t\t=\t50\nnewTree\t\t\t=\tnouvel arbre\nerase\t\t\t=\t--ERASE--\nroot\t\t\t=\tROOT\ncategoryindex\t\t=\t1 # the index in the list of shown features that will use category colors and open when clicked on \ndefaultUser \t\t= \tdefault\ndirectory\t\t\t=\tarborator\nericfuncsfilename \t\t=\tericfuncs.config\nericcatsfilename\t\t=\tericcats.config\ncorpusfolder\t\t=\tcorpus # in the root folder\ndb\t\t\t=\tarborator.db.sqlite\nshowAllTrees\t\t=\tTrue # TODO: bad hack\nexportfolder\t\t=\texport # in the project folder\nimportAnnotatorName\t\t= parser # edit only before entering texts into the database parser prof\nteacher\t=\tprof \nbaseAnnotatorName\t\t=\tparser # name of user that should serve as the base for the annotator to start her tree\nexoBaseAnnotatorName\t=\tprof # name of user that should serve as the base for the student to start her tree\ntreeorder\t\t\t=\tnewest # order of trees per sentence. what to put first. choices: newest, user, importAnnotator, default (alphabetical)\nshowTreesOfValidatedTexts\t=\t1 # give the number of the text status (see below) to be shown to all, anything but the numbers in text status will switch off this feature\nallVisibleForNonAnnotators\t=\t0 # if 0: no, if 1: yes=if a user is not registered as annotator, she can see every tree\nvalidatorsCanModifyTokens\t=\t1 # if 0 modif only by admins; if 1: validators, too\neditable\t\t\t=\t1\n\n\n[shown features]  # you decide which of the features of the token will be shown: t=token, cat=tag, ...\n0 \t\t\t=\tt\n1\t\t\t=\ttag\n2\t\t\t=\tlemma\n\n[shown sentencefeatures]  # you decide which of the features of the sentence will be shown: \n#0 \t\t\t=\tsent_id\n1 \t\t\t=\ttext\n\n############################## scores for evaluation of student annotators #############\n[evalutation scores]\ngovernors\t\t\t=\t50\nfunctions\t\t\t=\t30\ncategories\t\t\t=\t30\nlemmas\t\t\t=\t0\n\n############################## users whose annotation is visible to everyone #############\n[visible to everyone]\n#0 \t\t\t=\tguest\n0 \t\t\t=\tparser\n1 \t\t\t=\tprof\n\n############################## different status of a text  #############\n[text status]\n0 \t\t\t=\ttodo\n1\t\t\t=\tok\n2\t\t\t=\tproblem\n\n############################## different status of a tree #############\n[tree status]\n0 \t\t\t=\ttodo\n1\t\t\t=\tok\n2\t\t\t=\tproblem\n\n\n############################## appearance of the tree javascript!!! #############\n[look]\nlook\t\t\t=\t\'\'\'\ntab=8; \t\t\t// space between tokens\nline=25 \t\t// line height\ndependencyspace=320; \t// y-space for dependency representation\nxoff=8; \t\t// placement of the start of a depdency link in relation to the center of the word\nlinedeps=6; \t\t// y distance between two arrows arriving at the same token (rare case)\npois=4; \t\t// size of arrow pointer\ntokdepdist=15; \t\t// distance between tokens and depdendency relation\nfunccurvedist=8;\t// distance between the function name and the curves highest point\ndepminh = 15; \t\t// minimum height for dependency\nworddistancefactor = 2; // distant words get higher curves. this factor fixes how much higher.\nrootTriggerSquare = 50; // distance from top of svg above which root connections are created and minimum width of this zone (from 0 to 50 par example the connection jumps to the middle)\nextraspace=50 // extends the width of the svg in order to fit larger categories\ndefaultattris={"font": \'14px "Arial"\', "text-anchor":\'start\'};\nattris = {"t":\t\t{"font": \'18px "Arial"\', "text-anchor":\'start\',"fill": \'#000\',"cursor":\'move\',"stroke-width": \'0\'}, \n\t  "cat":\t{"font": \'12px "Times"\', "text-anchor":\'start\',"fill": \'#036\',"cursor":\'pointer\'},\n\t  "lemma":\t{"font": \'14px "Times"\', "text-anchor":\'start\',"fill": \'#036\'},\n\t  "depline":\t{"stroke": \'#999\',"stroke-width":\'1\',"stroke-dasharray": \'\'},\n\t  "deptext":\t{"font": \'12px "Times"\', "font-style":\'italic\', "fill": \'#999\',"cursor":\'pointer\'},\n\t  "dragdepline":\t{"stroke": \'#8C1430\',"stroke-width":\'2\',"stroke-dasharray": \'\'},\n\t  "dragdeplineroot":\t{"stroke": \'#985E16\',"stroke-width":\'2\',"stroke-dasharray": \'\'},\n\t  "source":\t{"fill": \'#245606\'},\n\t  "target":\t{"fill": \'#8C1430\',"cursor": \'url("images/connect.png"),pointer\', "font-style":\'italic\'}, \n\t  "form":\t{"font-style":\'italic\'}\n\t  };\n\'\'\'\n',cmOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,line:!0,mode:"python",theme:"material-darker"}}},mounted:function(){this.getProjectInfos()},computed:{imageEmpty:function(){return null==this.infos.image&&(this.infos.image="b''"),"b''"==this.infos.image||this.infos.image.length<1},imageCleaned:function(){var t=this.infos.image.replace("b","");return t=t.replace(/^'/g,""),t=t.replace(/'$/g,""),"data:image/png;base64, "+t}},methods:{getProjectInfos:function(){var t=this;a["a"].getProjectSettings(this.$props.projectname).then((function(e){t.infos=e.data})).catch((function(e){console.log(e),t.$q.notify({message:"".concat(e),color:"negative",position:"bottom"})}))}}}),P=k,_=Object(m["a"])(P,q,y,!1,null,null,null),S=_.exports,C={components:{ProjectCard:s["a"],ProjectItem:f,CreaProjectCard:w,ProjectSettingsView:S},name:"ProjectHub",data:function(){return{lorem:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",projects:[],visibleProjects:[],hover:!1,search:"",listMode:!0,creaProjectDial:!1,projectSettingsDial:!1,projectnameTarget:""}},mounted:function(){this.listMode=this.$ls.get("project_view",!1),this.getProjects()},methods:{openURL:i["a"],getProjects:function(){var t=this;console.log("getProjects hub"),a["a"].getProjects().then((function(e){t.projects=e.data,t.visibleProjects=e.data})).catch((function(t){console.log(t)}))},searchProject:function(t){var e=this.projects.filter((function(e){if(e.projectname.includes(t))return e}));this.visibleProjects=e},toggleProjectView:function(){this.listMode=!this.listMode,this.$ls.set("project_view",this.listMode)},showProjectSettings:function(t){this.projectnameTarget=t,this.projectSettingsDial=!0},deleteProject:function(t){var e=this;a["a"].deleteProject(t).then((function(o){e.$q.notify({message:"Project ".concat(t," deleted")}),e.getProjects()})).catch((function(t){console.log(t),e.$q.notify({message:"".concat(t),color:"negative",position:"bottom"})}))}}},$=C,N=(o("5d96"),Object(m["a"])($,n,r,!1,null,"a05271d2",null));e["default"]=N.exports},c360:function(t,e,o){}}]);