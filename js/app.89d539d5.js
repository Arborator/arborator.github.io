(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("2f39")},"2f39":function(e,t,a){"use strict";a.r(t);var n=a("967e"),r=a.n(n),o=(a("a481"),a("96cf"),a("fa84")),s=a.n(o),c=(a("5c7d"),a("573e"),a("7d6e"),a("e54f"),a("62f2"),a("7e6d"),a("2b0e")),u=a("b05d"),i=a("4d5a"),l=a("e359"),p=a("7ff0"),m=a("9404"),d=a("09e3"),f=a("9989"),b=a("65c6"),g=a("6ac5"),h=a("9c40"),v=a("f20b"),Q=a("e7a9"),_=a("0016"),w=a("1c1c"),j=a("66e5"),k=a("4074"),S=a("0170"),y=a("2c91"),P=a("58a8"),x=a("05c0"),A=a("cb32"),C=a("f09f"),T=a("a370"),I=a("4b7e"),L=a("eb85"),B=a("639d"),q=a("27f9"),U=a("ddd8"),V=a("8572"),E=a("0378"),F=a("3786"),N=a("b047"),R=a("eaac"),$=a("bd08"),G=a("db86"),D=a("42a1"),J=a("4e73"),K=a("9564"),O=a("2bb1"),z=a("ead5"),M=a("079e"),H=a("24e8"),W=a("ee89"),Z=a("d847"),X=a("54e1"),Y=a("068f"),ee=a("7460"),te=a("429b"),ae=a("adad"),ne=a("823b"),re=a("3b73"),oe=a("c294"),se=a("72db"),ce=a("de5e"),ue=a("4983"),ie=a("5096"),le=a("6b1d"),pe=a("8f8e"),me=a("e669"),de=a("a12b"),fe=a("58ea"),be=a("880c"),ge=a("32a7"),he=a("62cd"),ve=a("7cbe"),Qe=a("714f"),_e=a("7f67"),we=a("2a19"),je=a("1b3f"),ke=a("f508"),Se=a("5dab"),ye=a("b12a"),Pe=a("7518");c["a"].use(u["a"],{config:{notify:{position:"top-right",timeout:2e3,color:"positive"}},components:{QLayout:i["a"],QHeader:l["a"],QFooter:p["a"],QDrawer:m["a"],QPageContainer:d["a"],QPage:f["a"],QToolbar:b["a"],QToolbarTitle:g["a"],QBtn:h["a"],QBtnDropdown:v["a"],QBtnGroup:Q["a"],QIcon:_["a"],QList:w["a"],QItem:j["a"],QItemSection:k["a"],QItemLabel:S["a"],QSpace:y["a"],QBadge:P["a"],QTooltip:x["a"],QAvatar:A["a"],QCard:C["a"],QCardSection:T["a"],QCardActions:I["a"],QSeparator:L["a"],QParallax:B["a"],QInput:q["a"],QSelect:U["a"],QField:V["a"],QForm:E["a"],QRadio:F["a"],QChip:N["a"],QTable:R["a"],QTr:$["a"],QTd:G["a"],QPopupEdit:D["a"],QMenu:J["a"],QToggle:K["a"],QMarkupTable:O["a"],QBreadcrumbs:z["a"],QBreadcrumbsEl:M["a"],QDialog:H["a"],QUploader:W["a"],QBar:Z["a"],QBanner:X["a"],QImg:Y["a"],QTab:ee["a"],QTabs:te["a"],QTabPanels:ae["a"],QTabPanel:ne["a"],QExpansionItem:re["a"],QFab:oe["a"],QFabAction:se["a"],QPageSticky:ce["a"],QScrollArea:ue["a"],QPageScroller:ie["a"],QLinearProgress:le["a"],QCheckbox:pe["a"],QSpinnerFacebook:me["a"],QVirtualScroll:de["a"],QCircularProgress:fe["a"],QCarousel:be["a"],QCarouselControl:ge["a"],QCarouselSlide:he["a"],QPopupProxy:ve["a"]},directives:{Ripple:Qe["a"],ClosePopup:_e["a"]},plugins:{Notify:we["a"],LoadingBar:je["a"],Loading:ke["a"],AppVisibility:Se["a"],AppFullscreen:ye["a"],BottomSheet:Pe["a"]}});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},Ae=[],Ce=(a("6b54"),a("06db"),a("28a5"),a("b06b"),a("2b27")),Te=a.n(Ce),Ie=a("4360"),Le=a("d867"),Be=a("c16e"),qe=a.n(Be);Te.a.config("7d");var Ue={namespace:"arboratorgrew__",name:"ls",storage:"local"};c["a"].use(qe.a,Ue);var Ve={name:"App",data:function(){return{store:Ie["a"],alerts:{welcomeback:{color:"accent",message:"Welcome back to Arborator!",icon:"mood"}}}},mounted:function(){var e=this,t=Te.a.get("authomatic"),a=Te.a.get("session");null!=t&&console.log("token",t),null!=a&&Le["a"].whoAmI().then((function(t){e.store.dispatch("checkSession",{}),e.showNotif("bottom","welcomeback")})).catch((function(e){console.log(e)})),this.$q.dark.set(this.$ls.get("dm"))},methods:{parseJwt:function(e){var t=e.split(".")[1],a=t.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},showNotif:function(e,t){var a=this.alerts[t],n=a.color,r=a.textColor,o=a.multiLine,s=a.icon,c=a.message,u=a.avatar,i=a.actions;this.$q.notify({color:n,textColor:r,icon:s,message:c,position:e,avatar:u,multiLine:o,actions:i,timeout:2e3})}}},Ee=Ve,Fe=a("2877"),Ne=Object(Fe["a"])(Ee,xe,Ae,!1,null,null,null),Re=Ne.exports,$e=a("8c4f"),Ge=[{path:"/",component:function(){return Promise.all([a.e("vendor"),a.e("2d229d5a")]).then(a.bind(null,"dead"))},children:[{path:"",component:function(){return Promise.all([a.e("chunk-common"),a.e("6bb2de7d")]).then(a.bind(null,"8b24"))}},{path:"/projects",component:function(){return Promise.all([a.e("vendor"),a.e("chunk-common"),a.e("7cb2e5fb")]).then(a.bind(null,"6538"))}},{path:"/projects/:projectname",component:function(){return Promise.all([a.e("vendor"),a.e("chunk-common"),a.e("3b6cc1e1")]).then(a.bind(null,"3ea8"))},props:!0,name:"project"},{path:"/projects/:projectname/:samplename",component:function(){return Promise.all([a.e("vendor"),a.e("chunk-common"),a.e("2d0dee15")]).then(a.bind(null,"8810"))},props:!0},{path:"settings",component:function(){return a.e("2d20f6dd").then(a.bind(null,"b41f"))},meta:{requiresAuth:!0}}]}];Ge.push({path:"*",component:function(){return a.e("4b47640d").then(a.bind(null,"e51e"))}});var De=Ge;c["a"].use($e["a"]);var Je=function(){var e=new $e["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:De,mode:"hash",base:""});return e},Ke=function(){return Oe.apply(this,arguments)};function Oe(){return Oe=s()(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof Ie["a"]){e.next=6;break}return e.next=3,Object(Ie["a"])({Vue:c["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Ie["a"];case 7:if(t=e.t0,"function"!==typeof Je){e.next=14;break}return e.next=11,Je({Vue:c["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=Je;case 15:return a=e.t1,t.$router=a,n={el:"#q-app",router:a,store:t,render:function(e){return e(Re)}},e.abrupt("return",{app:n,store:t,router:a});case 19:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}var ze=a("a925"),Me={failed:"Action failed",success:"Action was successful"},He={"en-us":Me};c["a"].use(ze["a"]);var We=new ze["a"]({locale:"en-us",fallbackLocale:"en-us",messages:He}),Ze=function(e){var t=e.app;t.i18n=We},Xe=a("bc3a"),Ye=a.n(Xe),et=function(){var e=s()(r.a.mark((function e(t){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.Vue,a.prototype.$axios=Ye.a;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function tt(){return at.apply(this,arguments)}function at(){return at=s()(r.a.mark((function e(){var t,a,n,o,s,u,i,l,p;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke();case 2:t=e.sent,a=t.app,n=t.store,o=t.router,s=!0,u=function(e){s=!1,window.location.href=e},i=window.location.href.replace(window.location.origin,""),l=[Ze,et],p=0;case 11:if(!(!0===s&&p<l.length)){e.next=29;break}if("function"===typeof l[p]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,l[p]({app:a,router:o,store:n,Vue:c["a"],ssrContext:null,redirect:u,urlPath:i});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:p++,e.next=11;break;case 29:if(!1!==s){e.next=31;break}return e.abrupt("return");case 31:new c["a"](a);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),at.apply(this,arguments)}tt()},4360:function(e,t,a){"use strict";a("551c"),a("06db");var n=a("2b0e"),r=a("2f62"),o=a("d867"),s=a("2b27"),c=a.n(s);n["a"].use(r["a"]),c.a.config("7d"),n["a"].use(c.a),t["a"]=new r["a"].Store({state:{source:"https://127.0.0.1:5000",loginSuccess:!1,loginError:!1,user:{as_json:null,auth_provider:null,created_date:null,family_name:null,first_name:null,get_id:null,get_or_create:null,id:null,is_active:!1,is_anonymous:!0,is_authenticated:!1,last_seen:null,make_unique_nickname:null,make_valid_nickname:null,picture_url:null,query:null,query_class:null,super_admin:!1,username:null},failedAccess:!1,avatarKey:0,lastGrewQuery:""},mutations:{change_source:function(e,t){e.source=t},login_success:function(e,t){e.loginSuccess=!0},login_error:function(e,t){e.loginError=!0},logout_success:function(e){e.loginSuccess=!1,e.userName=null,e.userPass=null},access_failed:function(e,t){e.failedAccess=t},update_user:function(e,t){e.user=t.user},increment_avatar_key:function(e){e.avatarKey+=1},change_last_grew_query:function(e,t){e.lastGrewQuery=t}},actions:{login:function(e,t){var a=e.commit,n=t.user,r=t.password;return new Promise((function(e,t){o["a"].requestAccessToken(n,r).then((function(t){t.access_token&&(c.a.set("axesstoken",t.access_token,t.expires_in,null,null,!0),a("login_success",{userName:n}),o["a"].getPersonalInfos(n).then((function(e){a("update_user",{user:e.data})}))),e(t)})).catch((function(e){console.log("Error: "+e),a("login_error",{}),Promise.reject("Invalid credentials!")}))}))},setUser:function(e,t){var a=e.commit,n=t.user;a("update_user",{user:n})},checkSession:function(e,t){var a=e.commit;t.sessionid;return new Promise((function(e,t){o["a"].whoAmI().then((function(e){a("login_success",{}),a("update_user",{user:e.data})})).catch((function(e){console.log(e)}))}))},logout:function(e,t){var a=e.commit,n=t.user;return new Promise((function(e,t){console.log("logging out user: "+n),o["a"].logout().then((function(e){console.log(e)})).catch((function(e){console.log(e)})),c.a.remove("session"),c.a.remove("remember_token"),a("logout_success"),e({status:"disconnected"})}))},changeDesiredUrl:function(e,t){var a=e.commit,n=t.value;state.desiredUrl=payload.value,a("desiredurl_modified",{value:n})},accessFailed:function(e,t){var a=e.commit;t.value;a("access_failed")},updateUser:function(e,t){var a=e.commit,n=t.user;a("update_user",{user:n})}},getters:{getSource:function(e){return e.source},isLoggedIn:function(e){return e.loginSuccess},hasLoginErrored:function(e){return e.loginError},getFailedAccess:function(e){return e.failedAccess},getUserInfos:function(e){return e.user},getAvatarKey:function(e){return e.avatarKey},getLastGrewQuery:function(e){return e.lastGrewQuery}}})},"7e6d":function(e,t,a){},d867:function(e,t,a){"use strict";var n=a("bc3a"),r=a.n(n),o=a("2b27"),s=a.n(o);r.a.defaults.headers.post["Content-Type"]="multipart/form-data",s.a.config("7d");var c=r.a.create({baseURL:"https://arborapi.ilpga.fr:443/api",timeout:5e4}),u=r.a.create({baseURL:"https://arborapi.ilpga.fr:443/login",timeout:5e3});t["a"]={getProjects:function(){return c.get("home/projects")},getUsers:function(){return c.get("admin/users")},getProjectInfos:function(e){return c.get("projects/"+e)},getProjectSettings:function(e){return c.get("projects/"+e+"/settings/infos")},getSampleContent:function(e,t){return c.get("projects/"+e+"/sample/"+t)},deleteProject:function(e){return c.delete("projects/"+e+"/delete")},deleteSample:function(e,t){return c.delete("projects/"+e+"/sample/"+t)},uploadSample:function(e,t){return c.post("projects/"+e+"/upload",t)},addSampleAnnotator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/annotator/add",n)},removeSampleAnnotator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/annotator/remove",n)},addSampleValidator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/validator/add",n)},removeSampleValidator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/validator/remove",n)},addSampleSuperValidator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/supervalidator/add",n)},removeSampleSuperValidator:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/supervalidator/remove",n)},addSampleProf:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/prof/add",n)},removeSampleProf:function(e,t,a){var n={username:e,projectname:t,samplename:a};return c.post("projects/sample/prof/remove",n)},exportSamplesZip:function(e,t){var a={samples:e};return c.post("projects/"+t+"/export/zip",a,{responseType:"arraybuffer"})},auth:function(e){return u.get(e)},logout:function(){return r.a.get("/logout")},whoAmI:function(){var e=s.a.get("session"),t={id:e};return u.post("userinfos",t)},createProject:function(e){return c.post("projects/create",e)},createInitializedProject:function(e,t){return c.post("projects/"+e+"/create/upload",t)},searchProject:function(e,t){return c.post("projects/"+e+"/search",t)},searchSample:function(e,t,a){return c.post("projects/"+e+"/sample/"+t+"/search",a)},saveTrees:function(e,t,a){return c.post("projects/"+e+"/sample/"+t+"/saveTrees",a)},getRelationTable:function(e){return c.get("projects/"+e+"/relation_table/current_user")}}}},[[0,"runtime","vendor"]]]);