(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{1576:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{class:e.$q.dark.isActive?"bg-dark":"bg-grey-1",staticStyle:{width:"100%"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-weight-bold"},[e._v("Grew Matcher")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSearch,reset:e.onResetSearch}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("codemirror",{attrs:{options:e.cmOption},model:{value:e.searchPattern,callback:function(t){e.searchPattern=t},expression:"searchPattern"}}),a("q-space"),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Search"}})],1),a("div",{staticClass:"col"},[a("q-list",{attrs:{bordered:"",separator:""}},e._l(e.queries,(function(t){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.name,attrs:{clickable:""},on:{click:function(a){return e.changeSearchPattern(t.pattern)}}},[a("q-item-section",[e._v("\n                                "+e._s(t.name)+"\n                            ")])],1)})),1)],1)])])])],1)],1)},s=[],i=a("c4fb"),r=a("8f94"),o=(a("a7be"),a("ebe1"),a("56b3")),c=a.n(o);a("4360");c.a.defineMode("grew",(function(e,t){var a={global:"builtin",pattern:"builtin",without:"builtin"};function n(e,t){var n=e.next();if('"'===n)return t.tokenize=s,t.tokenize(e,t);if("%"===n)return e.skipToEnd(),"comment";if("="===n)return"quote";if("<"===n&&e.eat(">"))return"quote";if("-"===n){var i=e.next();if("["===i||">"===i)return"quote"}if("]"===n&&e.eat("-")&&e.eat(">"))return"quote";if(/\d/.test(n))return e.eatWhile(/[\d]/),e.eat(".")&&e.eatWhile(/[\d]/),"number";if(/[+\-*&%=<>!?|]/.test(n))return"operator";e.eatWhile(/\w/);var r=e.current();return a[r]||"variable"}function s(e,t){var a,s=!1,i=!1;while(null!=(a=e.next())){if('"'===a&&!i){s=!0;break}i=!i&&"\\"===a}return s&&!i&&(t.tokenize=n),"string"}return{startState:function(){return{tokenize:n,commentLevel:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},lineComment:"%"}}));var l={components:{codemirror:r["codemirror"]},name:"GrewRequestCard",props:["parentOnSearch"],data:function(){return{searchPattern:'% Search for a given word form\npattern { N [form="Form_to_search"] }',cmOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,line:!0,mode:"grew",theme:"material-darker"},queries:i}},mounted:function(){this.$ls.get("grewHistory","").length>0&&this.$store.commit("change_last_grew_query",this.$ls.get("grewHistory")),this.$store.getters.getLastGrewQuery.length>0&&(this.searchPattern=this.$store.getters.getLastGrewQuery)},methods:{onSearch:function(){this.parentOnSearch(this.searchPattern),this.$store.commit("change_last_grew_query",this.searchPattern),this.$ls.set("grewHistory",this.searchPattern)},changeSearchPattern:function(e){this.searchPattern=e},onResetSearch:function(){this.searchPattern=""}}},p=l,d=a("2877"),u=Object(d["a"])(p,n,s,!1,null,null,null);t["a"]=u.exports},"187b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{attrs:{id:e.index}},[a("q-toolbar",{class:e.$q.dark.isActive?"text-white":"text-primary"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"save",disable:!e.lastModified.dirty},on:{click:function(t){return e.save()}}},[a("q-tooltip",[e._v("Save this tree")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"archive"}},[a("q-tooltip",[e._v("Export")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"undo",disable:!e.lastModified.dirty},on:{click:function(t){return e.undo()}}},[a("q-tooltip",[e._v("Undo")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"redo",disable:!e.lastModified.redo}},[a("q-tooltip",[e._v("Redo")])],1),a("q-toolbar-title"),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"}})],1),a("q-card-section",[a("q-chip",{staticClass:"text-center",attrs:{icon:"bookmark",color:e.$q.dark.isActive?"primary":"",dense:""}},[e._v(" "+e._s(e.sentenceId)+" ")]),e._v(e._s(e.sampleData.sentence)+"\n        "),a("q-tabs",{class:(e.$q.dark.isActive?"text-grey-5":"text-grey-8")+" shadow-2",attrs:{dense:"","active-color":e.$q.dark.isActive?"info":"accent","active-bg-color":e.$q.dark.isActive?"":"grey-2"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.sampleData.conlls,(function(e,t){return a("q-tab",{key:t,attrs:{props:t,label:t,name:t,icon:"person","no-caps":"",ripple:!1}})})),1),a("q-separator"),a("q-tab-panels",{attrs:{"keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.sampleData.conlls,(function(t,n){return a("q-tab-panel",{key:n,attrs:{props:t,name:n}},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{class:(e.$q.dark.isActive," scrollable")},[a("conll-graph",{attrs:{conll:t,user:n,sentenceId:e.sentenceId,matches:e.sampleData.matches},on:{"update-conll":function(t){return e.onConllGraphUpdate(t)}}})],1)],1)],1)})),1)],1)],1)},s=[],i=(a("a481"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sentencebox"},[a("svg",{ref:e.id,class:e.$q.dark.isActive?"dark":"",attrs:{id:e.id}}),a("q-dialog",{attrs:{maximized:e.maximizedToggle},on:{hide:function(t){return e.ondialoghide()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onchangerel()}},model:{value:e.relDialog,callback:function(t){e.relDialog=t},expression:"relDialog"}},[a("q-card",{staticStyle:{height:"300px"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-weight-bold"},[e._v("Select a relation")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticStyle:{height:"200px"}},e._l(e.options.relations,(function(t,n){return a("v-select",{key:n,class:e.$q.dark.isActive?"vs-dark":"vs-light",staticStyle:{float:"left",display:"inline",width:"150px"},attrs:{options:t},model:{value:e.infos.relation[n],callback:function(t){e.$set(e.infos.relation,n,t)},expression:"infos.relation[index]"}})})),1),a("q-space"),a("q-card-actions",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"45%","margin-left":"auto","margin-right":"auto"},attrs:{flat:"",label:"Cancel"},on:{click:function(t){return e.ondialoghide()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"45%","margin-left":"auto","margin-right":"auto"},attrs:{color:"primary",label:"Ok"},on:{click:function(t){return e.onchangerel()}}})],1)],1)],1),a("q-dialog",{attrs:{maximized:e.maximizedToggle},on:{hide:function(t){return e.ondialoghide()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onchangecat()}},model:{value:e.catDialog,callback:function(t){e.catDialog=t},expression:"catDialog"}},[a("q-card",{staticStyle:{height:"300px"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-weight-bold"},[e._v("Select a category")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticStyle:{height:"200px"}},[a("q-select",{staticStyle:{width:"250px"},attrs:{filled:"",options:e.options.cats,label:"Category"},model:{value:e.infos.category,callback:function(t){e.$set(e.infos,"category",t)},expression:"infos.category"}})],1),a("q-separator"),a("q-card-actions",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"45%","margin-left":"auto","margin-right":"auto"},attrs:{flat:"",label:"Cancel"},on:{click:function(t){return e.ondialoghide()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"45%","margin-left":"auto","margin-right":"auto"},attrs:{color:"primary",label:"Ok"},on:{click:function(t){return e.onchangecat()}}})],1)],1)],1)],1)}),r=[],o=(a("ac4d"),a("8a81"),a("ac6a"),a("4db1")),c=a.n(o),l=a("2b0e"),p=a("4a7a"),d=a.n(p),u=(a("6dfc"),a("d867"));l["a"].config.ignoredElements=["conll"],l["a"].component("v-select",d.a);var h={name:"conllGraph",props:["conll","user","sentenceId","matches"],data:function(){return{draft:new ArboratorDraft,id:this.user+"_"+this.sentenceId.replace(/\W/g,""),svgContent:"",loading:!0,infos:{relation:[],category:null},options:{relations:[["subj","comp","vocative","det","dep","mod","conj","cc","parataxis","fixed","flat","compound","discourse","dislocated","goeswith","orphan","punct","root"],[":aux",":caus",":cleft",":pred",":appos",":obj",":obl"],["@agent","@appos","@caus","@expl","@fixed","@lvc","@pass","@relcl","@tense","@x"]],cats:["ADJ","ADP","ADV","AUX","CCONJ","DET","INTJ","NOUN","NUM","PART","PRON","PROPN","PUNCT","SCONJ","VERB","X"]},relDialog:!1,catDialog:!1,maximizedToggle:!1,snapInfos:{s:null,snaprelation:null,snapcat:null,depid:null,govid:null,relation:"",relations:[],category:null}}},mounted:function(){this.start(this.conll,this.matches,this.id,this.user)},methods:{up:function(e,t){null!=this.snapInfos.s&&this.$emit("update-conll",{draft:this.draft,svgid:this.id,dirty:e,redo:t,conll:this.draft.getConll(this.snapInfos.s),user:this.user})},start:function(e,t,a){if(console.log("start matches",t),this.user in t)var n=t[this.user];else n={nodes:[],edges:[]};var s=this.draft.getSvg(e,n,a);return this.loading=!1,s.toggleRelDialog=this.toggleRelDialog,s.toggleCatDialog=this.toggleCatDialog,s.selectRel=this.selectRel,s.selectCat=this.selectCat,s.triggerRelationChange=this.triggerRelationChange,s.triggerCategoryChange=this.triggerCategoryChange,this.up(!1,!1),s},toggleRelDialog:function(){this.relDialog=!this.relDialog},toggleCatDialog:function(){this.catDialog=!this.catDialog},selectRel:function(e){this.infos.relation=content},selectCat:function(e){this.infos.category=e},triggerRelationChange:function(e,t,a,n,s){var i=/[:@]/g,r=c()(s.matchAll(i)).map((function(e){return e.index})),o=[],l=0,p=!0,d=!1,u=void 0;try{for(var h,m=r[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var g=h.value;o.push(s.substring(l,g)),l=g}}catch(f){d=!0,u=f}finally{try{p||null==m.return||m.return()}finally{if(d)throw u}}o.push(s.substring(l)),console.log("here",n,a,s),this.snapInfos={s:e,snaprelation:t,depid:n,govid:a,relation:s,relations:o},this.infos.relation=o,this.relDialog=!this.relDialog},triggerCategoryChange:function(e,t,a,n){this.snapInfos={s:e,snapcat:t,depid:a,category:n},this.infos.category=n,this.catDialog=!this.catDialog},onchangerel:function(){this.relDialog=!this.relDialog,this.draft.relationChanged(this.snapInfos.s,this.snapInfos.depid,this.snapInfos.govid,this.infos.relation.join("")),this.up(!0,!1)},onchangecat:function(){this.catDialog=!this.catDialog,this.draft.catChanged(this.snapInfos.s,this.snapInfos.depid,this.infos.category),this.up(!0,!1)},ondialoghide:function(){"snaprelation"in this.snapInfos&&this.snapInfos.snaprelation.attr({class:"deprel"}),"snapcat"in this.snapInfos&&this.snapInfos.snapcat.attr({class:"cat"})}}},m=h,g=(a("694d"),a("2877")),f=Object(g["a"])(m,i,r,!1,null,null,null),v=f.exports,b={name:"SentenceCard",components:{ConllGraph:v},props:["index","sample","sentenceId"],data:function(){return{tab:"",sampleData:this.$props.sample,lastModified:{svgId:"",draft:"",dirty:!1,redo:!1,conll:"",user:""},alerts:{saveSuccess:{color:"positive",message:"Saved!"},saveFail:{color:"negative",message:"Oops, could not save...",icon:"report_problem"}}}},mounted:function(){},methods:{undo:function(){},save:function(){var e=this,t=Date.now();this.lastModified.conll=this.lastModified.conll.replace(/# timestamp = \d+\.\d+\n/,"# timestamp = "+t+"\n"),this.lastModified.conll=this.lastModified.conll.replace(/# user_id = .+\n/,"# user_id = "+this.$store.getters.getUserInfos.username+"\n");var a={trees:[{sent_id:this.sentenceId,conll:this.lastModified.conll}],user_id:this.$store.getters.getUserInfos.username};u["a"].saveTrees(this.$route.params.projectname,this.$props.sample.samplename,a).then((function(t){200==t.status&&(e.lastModified.dirty=!1,e.showNotif("top","saveSuccess"),e.sampleData.conlls[e.$store.getters.getUserInfos.username]=e.lastModified.conll,e.$forceUpdate(),e.tab=e.$store.getters.getUserInfos.username)})).catch((function(t){console.log(t),e.showNotif("top","saveFail")}))},onConllGraphUpdate:function(e){this.lastModified=e},showNotif:function(e,t){var a=this.alerts[t],n=a.color,s=a.textColor,i=a.multiLine,r=a.icon,o=a.message,c=a.avatar,l=a.actions;this.$q.notify({color:n,textColor:s,icon:r,message:o,position:e,avatar:c,multiLine:i,actions:l,timeout:2e3})}}},q=b,y=(a("b6b0"),Object(g["a"])(q,n,s,!1,null,"e5833cae",null));t["a"]=y.exports},"1bf1":function(e,t,a){"use strict";var n=a("a4e3"),s=a.n(n);s.a},"4bbc":function(e,t,a){},"694d":function(e,t,a){"use strict";var n=a("933a"),s=a.n(n);s.a},"8f44":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"clickable my-card grid-style-transition shadow-2 ",class:e.hover?"shadow-12":"",style:e.hover?"transform: scale(0.95);":"",on:{mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},click:function(t){return e.goTo()}}},[a("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down","context-menu":""}},[a("q-list",[a("q-item",{attrs:{clickable:""},on:{click:function(t){return e.projectSettings()}}},[a("q-item-section",[e._v("Settings")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"settings"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(t){return e.deleteProject()}}},[a("q-item-section",[e._v("Delete Project")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"delete_forever",color:"negative"}})],1)],1)],1)],1),a("q-img",{attrs:{ratio:16/9,src:e.imageEmpty?"../statics/project.jpg":e.imageCleaned,basic:""}},[a("div",{staticClass:"absolute-bottom text-h6"},[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:e.project.is_private,expression:"project.is_private"}],attrs:{name:"lock",color:"negative",size:"lg"}}),a("q-icon",{directives:[{name:"show",rawName:"v-show",value:!e.project.is_private,expression:"!project.is_private"}],attrs:{name:"public",color:"positive",size:"lg"}}),e._v("\n            "+e._s(e.project.projectname)+"\n        ")],1)]),a("q-card-section",[a("q-item",[a("q-item-label",[e._v(e._s(e.project.description))])],1)],1)],1)},s=[],i=(a("a481"),{props:["props","parentDeleteProject","parentProjectSettings"],data:function(){return{project:this.props,hover:!1}},computed:{imageEmpty:function(){return null==this.project.image&&(this.project.image="b''"),"b''"==this.project.image||this.project.image.length<1},imageCleaned:function(){var e=this.project.image.replace("b","");return e=e.replace(/^'/g,""),e=e.replace(/'$/g,""),"data:image/png;base64, "+e}},methods:{goTo:function(){this.$router.push({name:"project",params:{projectname:this.project.projectname,infos:this.project}})},projectSettings:function(){this.$props.parentProjectSettings(this.project.projectname)},deleteProject:function(){this.$props.parentDeleteProject(this.project.projectname)}}}),r=i,o=(a("1bf1"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"18021e4a",null);t["a"]=c.exports},"933a":function(e,t,a){},a4e3:function(e,t,a){},b6b0:function(e,t,a){"use strict";var n=a("4bbc"),s=a.n(n);s.a},c4fb:function(e){e.exports=JSON.parse('[{"name":"POS query","pattern":"% Search for a token of a given upos\\n% Available tags: ADJ, ADP, ADV, AUX, CONJ, DET, INTJ, NOUN, NUM, PART, PRON, PROPN, PUNCT, SCONJ, SYM, VERB, X\\npattern { N [upos=\\"NUM\\"] }"},{"name":"Form query","pattern":"% Search for a given word form\\npattern { N [form=\\"Form_to_search\\"] }"},{"name":"Lemma query","pattern":"% Search for a given lemma (lemmatization is not available for all languages)\\n\\npattern { N [lemma=\\"Lemma_to_search\\"] }"},{"name":"Dependency relation query","pattern":"% Search for a dependency relation\\n% Available relations are:\\n%   acl, acl:relcl, advcl, advmod, amod, appos, aux, aux:pass, case, cc, ccomp,\\n%   compound, conj, cop, csubj, dep, det, discourse, obj, expl, iobj, mark,\\n%   fixed, flat, neg, nmod, nmod:poss, nsubj, nsubj:pass, nummod, parataxis, punct, root, xcomp\\n\\npattern { GOV -[advcl]-> DEP }"},{"name":"Relation and tags query","pattern":"% Search for a \\"det\\" dependency relation\\n% such that the governor\'s tag is different from NOUN, PROPN and ADJ\\n\\npattern {\\nGOV [upos <> NOUN|ADJ|PROPN];\\nGOV -[det]-> DEP;\\n}"}]')},dc8e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"max-width":"100vw"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-space"),a("div",{staticClass:"text-weight-bold"},[e._v("Results")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"q-pa-md row q-gutter-md"},[a("q-badge",{attrs:{color:"secondary"}},[e._v(e._s(e.sentenceCount)+" sentences found")]),a("q-virtual-scroll",{staticStyle:{height:"80vh",width:"90vw"},attrs:{items:this.samplesFrozen.list,"virtual-scroll-slice-size":5,"virtual-scroll-item-size":200},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item,s=t.index;return[a("sentence-card",{key:s,attrs:{id:n,sample:e.searchresults[n],index:s,sentenceId:n}})]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"q-pa-md row justify-center"},[a("div",{staticClass:"col"},[a("q-circular-progress",{attrs:{indeterminate:"",size:"70px",thickness:.22,color:"primary","track-color":e.$q.dark.isActive?"grey":"grey-3"}})],1)])])],1)},s=[],i=(a("0d6d"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("187b")),r=[],o={components:{SentenceCard:i["a"]},props:["searchresults"],data:function(){return{samplesFrozen:{list:[],indexes:{}},loading:!1}},computed:{sentenceCount:function(){return Object.keys(this.searchresults).length}},mounted:function(){this.freezeSamples()},methods:{freezeSamples:function(){console.log("samples",this.searchresults);var e=0,t=[],a={};for(var n in this.searchresults)t.push(n),a[e]=n,e++;r=t,Object.freeze(r),this.samplesFrozen={list:r,indexes:a}}}},c=o,l=a("2877"),p=Object(l["a"])(c,n,s,!1,null,null,null);t["a"]=p.exports}}]);